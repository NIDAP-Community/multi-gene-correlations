# v1.0.1 — Clinical Visualization Enhancements

Released: 2026-01-13

## Highlights
- richer clinical QC/visualization outputs while keeping the CLI interface unchanged
- linux/amd64 container rebuilt and published as both `latest` and `v1.0.1` (digest `sha256:6975c121b6e5c2a7ca068fa4c708bdd555ea297453349af2135515dfabb09734`)

## Clinical Visualizations
1. **Custom categorical palettes** – `--clinical_box_colors` accepts user-defined color sets (defaults to a 20-color palette) so clinical box plots can align with cohort branding.
2. **Per-level box annotations** – signature vs categorical clinical plots now overlay Pearson `r` and `p` for each level, matching the one-hot correlations written to `tables/clinical_signature_correlations.csv`.
3. **Scatter overlays** – numeric clinical scatters (both per-gene facets and the signature plot) now show inline `r/p` text, nudged inside the plotting window for readability.
4. **Opt-in “all” aggregate** – combined plots/tables are generated only when the literal lowercase `all` is included in `--categories`, reducing unnecessary output by default.

## Documentation & Metadata
- README, CHANGELOG, and session notes describe the new options and annotate the release as v1.0.1.
- `run_parameters.json` records whether `all` was requested (`include_all_category`) for downstream provenance.

## Container / Distribution
- `docker pull ghcr.io/nidap-community/multi-gene-correlations:latest`
- `docker pull ghcr.io/nidap-community/multi-gene-correlations:v1.0.1`

Both tags reference the same image; use the versioned tag for reproducibility.

## Verification
- `Rscript entrypoint.R --counts test_data/counts.tsv --metadata test_data/metadata.csv --gene_column Gene --sample_column SampleID --genes "GATM,GAMT,CKM,SLC6A8,PTEN,SPRY2" --category_column Tissue --categories "Normal,Tumor" --signature_name "Creatine Score" --signature_genes "PTEN,SPRY2,CKM" --clinical_columns "Stage,PSA" --clinical_use_signature true --clinical_use_genes true --output_dir test_output/clinical_demo`
- `Rscript entrypoint.R --counts test_data/counts.tsv --metadata test_data/metadata.csv --gene_column Gene --sample_column SampleID --genes "GATM,GAMT,CKM,SLC6A8,PTEN,SPRY2" --category_column Tissue --categories "Normal,Tumor,all" --signature_name "Creatine Score" --signature_genes "PTEN,SPRY2,CKM" --clinical_columns "Stage,PSA" --clinical_use_signature true --clinical_use_genes true --output_dir test_output/clinical_demo_all`
- `docker build --platform linux/amd64 -t ghcr.io/nidap-community/multi-gene-correlations:latest -f container/Dockerfile .`
- `docker push ghcr.io/nidap-community/multi-gene-correlations:{latest,v1.0.1}`

## GitHub Release Copy
Use the text above in the GitHub “Releases” tab so users can discover v1.0.1 without cloning the repo. Attach any relevant artifacts (plots, sample outputs) if needed.
